"use strict";(self.webpackChunklxm_web=self.webpackChunklxm_web||[]).push([[5261],{19528:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(74848),i=a(28453);const r={sidebar_position:4},s="Envelope file format",l={id:"advanced/envelope-format",title:"Envelope file format",description:"Envelopes are used to pass data to the LinXmart data linkage system, with specific information that describes what the data is and what LinXmart should do with it.",source:"@site/docs/advanced/envelope-format.md",sourceDirName:"advanced",slug:"/advanced/envelope-format",permalink:"/docs/advanced/envelope-format",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Client commands",permalink:"/docs/advanced/data-clients/client-commands"},next:{title:"API",permalink:"/docs/advanced/api/"}},d={},c=[{value:"Manifest",id:"manifest",level:2},{value:"Data files",id:"data-files",level:2},{value:"Metadata files",id:"metadata-files",level:2},{value:"Examples",id:"examples",level:2},{value:"Basic linkage request",id:"basic-linkage-request",level:3},{value:"Multi file linkage request",id:"multi-file-linkage-request",level:3},{value:"Deletion request",id:"deletion-request",level:3},{value:"Probability estimation request",id:"probability-estimation-request",level:3},{value:"Batch quality review request",id:"batch-quality-review-request",level:3},{value:"Extract mapping request",id:"extract-mapping-request",level:3}];function o(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"envelope-file-format",children:"Envelope file format"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"/docs/concepts/envelopes",children:"Envelopes"})," are used to pass data to the LinXmart data linkage system, with specific information that describes what the data is and what LinXmart should do with it."]}),"\n",(0,n.jsx)(t.p,{children:"This Envelope file is also used to pass data back to the user. For example, the results of a probability estimation and the results of a linkage map extraction are both in the format of an Envelope."}),"\n",(0,n.jsx)(t.p,{children:"The Envelope data file format is a zip file. Within this zip file are three types of files:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"1 Manifest file"}),"\n",(0,n.jsx)(t.li,{children:"1 or more Data files"}),"\n",(0,n.jsx)(t.li,{children:"0 or more Metadata files"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"manifest",children:"Manifest"}),"\n",(0,n.jsx)(t.p,{children:"The manifest file is an XML file that contains the information that describes what type of Envelope it is, what it is for, and describes all of the data and metadata files that sit alongside it."}),"\n",(0,n.jsxs)(t.p,{children:["The name of the manifest file must be ",(0,n.jsx)(t.code,{children:"manifest.xml"})," and basic structure of the manifest file is as follows:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",metastring:'title="manifest.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\r\n<Manifest xmlns="http://www.phrn.org.au/participants/cdl/20110801">\r\n    <LinkageProject>[linkage project code]</LinkageProject>\r\n    <Sender>[data provider code]</Sender>\r\n    <RequestType>[data action]</RequestType>\r\n    <NumberOfDataFiles>1</NumberOfDataFiles>\r\n    <Data>\r\n        <File fileName="data.csv" format="FlatFile" datasource="[event type code]" />\r\n    </Data>\r\n    <Metadata>\r\n      <File fileName="sourcefields.csv" description="Source Field Statistics" />\r\n      <File fileName="systeminfo.txt" description="System Information and Baseline" />\r\n      <File fileName="envelope.json" description="Simple Envelope Definition" />\r\n      <File fileName="project.json" description="Project Definition" />\r\n    </Metadata>\r\n</Manifest>\n'})}),"\n",(0,n.jsx)(t.p,{children:"The placeholder values in braces ([]) above must reflect the correct values in the system, otherwise the validation of the Envelope will fail. As you can see, an Envelope applies to a single Data Provider, but each data file can apply to a separate Event Type within that Data Provider."}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.em,{children:"[data action]"})," can be one of the following values:"]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Data Action"}),(0,n.jsx)(t.th,{children:"Notes"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"SubmitLinkage"}),(0,n.jsx)(t.td,{children:"The data files are loaded for linkage. All files are loaded before matching and grouping occurs."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ProbabilityCalculation"}),(0,n.jsx)(t.td,{children:"The data files are run through a probability estimation process."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Delete"}),(0,n.jsx)(t.td,{children:"The data files contain record IDs to be deleted."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"QualityReview"}),(0,n.jsx)(t.td,{children:"The data files contain update groupings of existing records."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ExtractMapping"}),(0,n.jsxs)(t.td,{children:["The data files contain record IDs to extract the linkage map for. This also requires an additional element ",(0,n.jsx)(t.code,{children:"<ExtractionProjectId>"})," that should contain the system generated ID of the Extraction Project to use for the extraction process."]})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"data-files",children:"Data files"}),"\n",(0,n.jsxs)(t.p,{children:["All data files are expected to be in a plain text format. The exact format of these will differ ",(0,n.jsx)(t.a,{href:"/docs/guides/loading-data/data-formats",children:"depending on the data action specified and the data sources configured"})," in the system."]}),"\n",(0,n.jsx)(t.h2,{id:"metadata-files",children:"Metadata files"}),"\n",(0,n.jsxs)(t.p,{children:["The metadata files are not used by the LinXmart application and are more information for the user. They are not required and are only typically created and used by the ",(0,n.jsx)(t.a,{href:"/docs/concepts/envelopes#linxmart-simple-envelope-builder",children:"Simple Envelope Builder"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,n.jsxs)(t.p,{children:["Any ",(0,n.jsx)(t.em,{children:"identifying data"})," used in the following examples are synthetically generated and do not represent real individuals."]}),"\n",(0,n.jsx)(t.h3,{id:"basic-linkage-request",children:"Basic linkage request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-zip",metastring:'title="basic-linkage-request.zip"',children:"manifest.xml\r\ndata.csv\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",metastring:'title="manifest.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\r\n<Manifest xmlns="http://www.phrn.org.au/participants/cdl/20110801">\r\n    <LinkageProject>TUTORIAL</LinkageProject>\r\n    <Sender>WA-HEALTH</Sender>\r\n    <RequestType>SubmitLinkage</RequestType>\r\n    <NumberOfDataFiles>1</NumberOfDataFiles>\r\n    <Data>\r\n        <File fileName="data.csv" format="FlatFile" datasource="WA-BIRTHS" />\r\n    </Data>\r\n</Manifest>\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",metastring:'title="data.csv"',children:"Record Id,Given Name,Middle Name,Family Name,Date Of Birth,Sex,Address,Suburb,Postcode,State\r\n2002274718,JUDITH,KAYE,COLMER,19990107,F,14 DESERT ASH PLACE,HELENA VALLEY,6056,5\r\n1000244830,LAUREHCE,,BANAVAD,19691103,M,GARDEN CITY SHOPPING CENTRE 99 SHOP 125 133 RISELEY STREET,BOORAGOON,6154,5\r\n1000666061,STUART,LEIGH,VERONN,20041107,M,6 UNIT 4 AIRLIE STREET,CLAREMONT,6010,5\r\n1001124074,BRYCE,,MATTHRWS,19470623,M,11 BEVAN LOOP,ROELANDS,6226,5\r\n2000461216,JULIETTE,,BULLEN,19850717,F,16 NEEDLEWOOD RISE,KENWICK,6107,5\n"})}),"\n",(0,n.jsx)(t.h3,{id:"multi-file-linkage-request",children:"Multi file linkage request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-zip",metastring:'title="multi-file-linkage-request.zip"',children:"manifest.xml\r\ndata-births.csv\r\ndata-hospital.csv\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",metastring:'title="manifest.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\r\n<Manifest xmlns="http://www.phrn.org.au/participants/cdl/20110801">\r\n    <LinkageProject>TUTORIAL</LinkageProject>\r\n    <Sender>WA-HEALTH</Sender>\r\n    <RequestType>SubmitLinkage</RequestType>\r\n    <NumberOfDataFiles>2</NumberOfDataFiles>\r\n    <Data>\r\n        <File fileName="data-births.csv" format="FlatFile" datasource="WA-BIRTHS" />\r\n        <File fileName="data-hospital.csv" format="FlatFile" datasource="WA-HOSP" />\r\n    </Data>\r\n</Manifest>\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",metastring:'title="data-births.csv"',children:"Record Id,Given Name,Middle Name,Family Name,Date Of Birth,Sex,Address,Suburb,Postcode,State\r\n2002274718,JUDITH,KAYE,COLMER,19990107,F,14 DESERT ASH PLACE,HELENA VALLEY,6056,5\r\n1000244830,LAUREHCE,,BANAVAD,19691103,M,GARDEN CITY SHOPPING CENTRE 99 SHOP 125 133 RISELEY STREET,BOORAGOON,6154,5\r\n1000666061,STUART,LEIGH,VERONN,20041107,M,6 UNIT 4 AIRLIE STREET,CLAREMONT,6010,5\r\n1001124074,BRYCE,,MATTHRWS,19470623,M,11 BEVAN LOOP,ROELANDS,6226,5\r\n2000461216,JULIETTE,,BULLEN,19850717,F,16 NEEDLEWOOD RISE,KENWICK,6107,5\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",metastring:'title="data-hospital.csv"',children:"Record Id,Given Name,Middle Name,Family Name,Date Of Birth,Sex,Address,Suburb,Postcode,State\r\n1002735183,ALAN,,KNOTT,,M,3 BOYD CLOSE,SOUTH GUILDFORD,6055,5\r\n2000611041,SARAH,ROSE,MCCLURE,19961126,F,16 UNIT 431 BAGOT ROAD,SUBIACO,6008,5\r\n2001366752,JULIE,LYNN,NGUYEM,19650413,F,6549 GREAT NORTHERN HI GHWAY,BINDOON,6502,5\r\n2000604937,ANITA,ANN,WANSTALL,20031212,F,27 BALLIOL COURT,PIARA WATERS,6112,5\r\n1001074689,JAKE,MARIAN,WONG,19820530,M,213 LONG STREET,MOORA,6510,5\n"})}),"\n",(0,n.jsx)(t.h3,{id:"deletion-request",children:"Deletion request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-zip",metastring:'title="deletion-request.zip"',children:"manifest.xml\r\ndata.csv\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",metastring:'title="manifest.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\r\n<Manifest xmlns="http://www.phrn.org.au/participants/cdl/20110801">\r\n    <LinkageProject>TUTORIAL</LinkageProject>\r\n    <Sender>WA-HEALTH</Sender>\r\n    <RequestType>Delete</RequestType>\r\n    <NumberOfDataFiles>1</NumberOfDataFiles>\r\n    <Data>\r\n        <File fileName="data.csv" format="FlatFile" datasource="WA-BIRTHS" />\r\n    </Data>\r\n</Manifest>\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",metastring:'title="data.csv"',children:"2002274718\r\n1000244830\r\n1000666061\r\n1001124074\r\n2000461216\n"})}),"\n",(0,n.jsx)(t.h3,{id:"probability-estimation-request",children:"Probability estimation request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-zip",metastring:'title="prob-est-request.zip"',children:"manifest.xml\r\ndata.csv\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",metastring:'title="manifest.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\r\n<Manifest xmlns="http://www.phrn.org.au/participants/cdl/20110801">\r\n    <LinkageProject>TUTORIAL</LinkageProject>\r\n    <Sender>WA-HEALTH</Sender>\r\n    <RequestType>ProbabilityCalculation</RequestType>\r\n    <NumberOfDataFiles>1</NumberOfDataFiles>\r\n    <Data>\r\n        <File fileName="data.csv" format="FlatFile" datasource="WA-BIRTHS" />\r\n    </Data>\r\n</Manifest>\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",metastring:'title="data.csv"',children:"Record Id,Given Name,Middle Name,Family Name,Date Of Birth,Sex,Address,Suburb,Postcode,State\r\n2002274718,JUDITH,KAYE,COLMER,19990107,F,14 DESERT ASH PLACE,HELENA VALLEY,6056,5\r\n1000244830,LAUREHCE,,BANAVAD,19691103,M,GARDEN CITY SHOPPING CENTRE 99 SHOP 125 133 RISELEY STREET,BOORAGOON,6154,5\r\n1000666061,STUART,LEIGH,VERONN,20041107,M,6 UNIT 4 AIRLIE STREET,CLAREMONT,6010,5\r\n1001124074,BRYCE,,MATTHRWS,19470623,M,11 BEVAN LOOP,ROELANDS,6226,5\r\n2000461216,JULIETTE,,BULLEN,19850717,F,16 NEEDLEWOOD RISE,KENWICK,6107,5\n"})}),"\n",(0,n.jsx)(t.h3,{id:"batch-quality-review-request",children:"Batch quality review request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-zip",metastring:'title="quality-review-request.zip"',children:"manifest.xml\r\ndata.csv\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",metastring:'title="manifest.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\r\n<Manifest xmlns="http://www.phrn.org.au/participants/cdl/20110801">\r\n    <LinkageProject>TUTORIAL</LinkageProject>\r\n    <RequestType>QualityReview</RequestType>\r\n    <NumberOfDataFiles>1</NumberOfDataFiles>\r\n    <Data>\r\n        <File fileName="data.csv" format="FlatFile" />\r\n    </Data>\r\n</Manifest>\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",metastring:'title="data.csv"',children:"TUTORIAL,b0001,WA-BIRTHS,1\r\nTUTORIAL,h1001,WA_HOSP,1\r\nTUTORIAL,h1002,WA_HOSP,1\r\nTUTORIAL,b0002,WA-BIRTHS,2\r\nTUTORIAL,h1010,WA_HOSP,2\r\nTUTORIAL,h1011,WA_HOSP,2\n"})}),"\n",(0,n.jsx)(t.h3,{id:"extract-mapping-request",children:"Extract mapping request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-zip",metastring:'title="extraction-request.zip"',children:"manifest.xml\r\ndata.csv\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-xml",metastring:'title="manifest.xml"',children:'<?xml version="1.0" encoding="utf-8"?>\r\n<Manifest xmlns="http://www.phrn.org.au/participants/cdl/20110801">\r\n    <LinkageProject>TUTORIAL</LinkageProject>\r\n    <Sender>WA-HEALTH</Sender>\r\n    <RequestType>ExtractMapping</RequestType>\r\n    <ExtractionProjectId>LXM2023110038</ExtractionProjectId>\r\n    <NumberOfDataFiles>1</NumberOfDataFiles>\r\n    <Data>\r\n        <File fileName="data.csv" format="FlatFile" datasource="WA-BIRTHS" />\r\n    </Data>\r\n</Manifest>\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-txt",metastring:'title="data.csv"',children:"2002274718\r\n1000244830\r\n1000666061\r\n1001124074\r\n2000461216\n"})})]})}function m(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>s,x:()=>l});var n=a(96540);const i={},r=n.createContext(i);function s(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);